<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>ThreeJS</title>
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Comfortaa:wght@300&display=swap" rel="stylesheet">
	<style>
        body { margin: 0; }
        canvas { display: block; }

        .main { position: absolute; background-color: white; margin: 300px 5%; padding: 50px; }
	</style>
</head>
<body>

<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/102/three.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.10.0/gsap.min.js"></script>
<script>
    var scene = new THREE.Scene();

    var camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
    camera.position.z = 4;

    var renderer = new THREE.WebGLRenderer({ antialias: true });
    renderer.setClearColor("#181717");
    renderer.setSize(window.innerWidth, window.innerHeight);
    document.body.appendChild(renderer.domElement);

    var light = new THREE.DirectionalLight(0xFFFFFF, 1);
    light.position.set(1, 1, 1);
    scene.add(light);

    const box1 = new THREE.BoxGeometry(9, 6, .5);
    const box2 = new THREE.BoxGeometry(9, 6, .5);

    let material = new THREE.MeshLambertMaterial({ color: "#ffffff" });

    const mesh1 = new THREE.Mesh(box1, material);
    const mesh2 = new THREE.Mesh(box1, material);

    scene.add(mesh1);
    scene.add(mesh2);

    const position1 = new THREE.Vector3(0, 0, 0);
    const position2 = new THREE.Vector3(10, 0, 0);
    const position3 = new THREE.Vector3(-10, 0, 0)

    gsap.to(mesh1.position, { x: position1.x, y: position1.y, z: position1.z });
    gsap.to(mesh2.position, { x: position3.x, y: position3.y, z: position3.z });

    let currentPosition1 = position1;
    let currentPosition2 = position2;

    function togglePosition() {

        if (currentPosition1.equals(position1)) {
            currentPosition1 = position2
			currentPosition2 = position1
            console.log("0");
            gsap.to(mesh1.position, { x: currentPosition1.x, y: currentPosition1.y, z: currentPosition1.z, duration: 2 });
            gsap.to(mesh2.position, { x: currentPosition2.x, y: currentPosition2.y, z: currentPosition2.z, duration: 2 });

        }else if(currentPosition1.equals(position2)) {
            currentPosition1 = position1
            currentPosition2 = position3
            console.log("1");
            gsap.to(mesh1.position, {x: currentPosition1.x, y: currentPosition1.y, z: currentPosition1.z, duration: 2});
            gsap.to(mesh2.position, {x: currentPosition2.x, y: currentPosition2.y, z: currentPosition2.z, duration: 2});
        }
        // else if(currentPosition1.equals(position2)) {
        //     currentPosition1 = position1
        //     currentPosition2 = position2
        //     console.log("2");
        //     gsap.to(mesh1.position, { x: currentPosition1.x, y: currentPosition1.y, z: currentPosition1.z, duration: 2 });
        //     gsap.to(mesh2.position, { x: currentPosition2.x, y: currentPosition2.y, z: currentPosition2.z, duration: 2 });
        // }

        // else if(currentPosition.equals(position2)){
        //     currentPosition = position3
        //     console.log("2");
        //     gsap.to(mesh.position, { x: position3.x, y: position3.y, z: position3.z, duration: 2 });
		// }else if(currentPosition.equals(position3)){
        //     currentPosition = position4
        //     console.log("3");
        //     gsap.to(mesh.position, { x: position4.x, y: position4.y, z: position4.z, duration: 2 });
        // }else if(currentPosition.equals(position4)){
        //     currentPosition = position0
        //     console.log("4");
        //     gsap.to(mesh.position, { x: position0.x, y: position0.y, z: position0.z, duration: 2 });
        // }
		//
        // gsap.to(mesh.position, { x: currentPosition.x, y: currentPosition.y, z: currentPosition.z, duration: 2 });

    }

    window.addEventListener("click", (event) => {
        togglePosition();
    });

    window.addEventListener("resize", () => {
        renderer.setSize(window.innerWidth, window.innerHeight);
        camera.aspect = window.innerWidth / window.innerHeight;
        camera.updateProjectionMatrix();
    });

    const loop = () => {
        renderer.render(scene, camera);
        window.requestAnimationFrame(loop);
    };
    loop();

</script>

</body>
</html>
