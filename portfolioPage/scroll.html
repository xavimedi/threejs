<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>ThreeJS</title>
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Comfortaa:wght@300&display=swap" rel="stylesheet">
	<style>
        body { margin: 0; }
        canvas { display: block; }

        .main { position: absolute; background-color: white; margin: 300px 5%; padding: 50px; }
	</style>
</head>
<body>

<!--<div id="box1">BOX 1</div>-->

<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/102/three.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.10.0/gsap.min.js"></script>
<script>
    var scene = new THREE.Scene();

    var camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
    camera.position.z = 3;

    var renderer = new THREE.WebGLRenderer({ antialias: true });
    renderer.setClearColor("#FFFFFF");
    renderer.setSize(window.innerWidth, window.innerHeight);
    document.body.appendChild(renderer.domElement);

    var light = new THREE.DirectionalLight(0xFFFFFF, 1);
    light.position.set(1, -1, 1);
    scene.add(light);

    const box1 = new THREE.BoxGeometry(6, 1, .1);

    let material = new THREE.MeshLambertMaterial({ color: "#ffffff" });

    const mesh1 = new THREE.Mesh(box1, material);
    const mesh2 = new THREE.Mesh(box1, material);
    const mesh3 = new THREE.Mesh(box1, material);
    const mesh4 = new THREE.Mesh(box1, material);
    const mesh5 = new THREE.Mesh(box1, material);
    const mesh6 = new THREE.Mesh(box1, material);

    scene.add(mesh1);
    scene.add(mesh2);
    scene.add(mesh3);
    scene.add(mesh4);
    scene.add(mesh5);
    scene.add(mesh6);


    const position1 = new THREE.Vector3(0, 1.5, 0);
    const position12 = new THREE.Vector3(1, 1.5, 3);

    const position2 = new THREE.Vector3(0, 0, 0);
    const position22 = new THREE.Vector3(4, 6, -3);

    const position3 = new THREE.Vector3(0, -1.5, 0);
    const position32 = new THREE.Vector3(3, 4, 2);

    const position4 = new THREE.Vector3(-4, 5, 6);
    const position42 = new THREE.Vector3(0, 1.5, 0);

    const position5 = new THREE.Vector3(3, 3, 1);
    const position52 = new THREE.Vector3(0, 0, 0);

    const position6 = new THREE.Vector3(-10, 0, 0)
    const position62 = new THREE.Vector3(0, -1.5, 0);


    gsap.to(mesh1.position, { x: position1.x, y: position1.y, z: position1.z });
    gsap.to(mesh2.position, { x: position2.x, y: position2.y, z: position2.z });
    gsap.to(mesh3.position, { x: position3.x, y: position3.y, z: position3.z });

    gsap.to(mesh4.position, { x: position4.x, y: position4.y, z: position4.z });
    gsap.to(mesh5.position, { x: position5.x, y: position5.y, z: position5.z });
    gsap.to(mesh6.position, { x: position6.x, y: position6.y, z: position6.z });


    let currentPosition1 = position1;
    let currentPosition2 = position2;
    let currentPosition3 = position3;
    let currentPosition4 = position4;
    let currentPosition5 = position5;
    let currentPosition6 = position6;

    function togglePosition() {

        if (currentPosition1.equals(position1)) {
            currentPosition1 = position12
			currentPosition2 = position22
            currentPosition3 = position32
            currentPosition4 = position42
            currentPosition5 = position52
            currentPosition6 = position62
            console.log("0");
            gsap.to(mesh1.position, { x: currentPosition1.x, y: currentPosition1.y, z: currentPosition1.z, duration: 2 });
            gsap.to(mesh2.position, { x: currentPosition2.x, y: currentPosition2.y, z: currentPosition2.z, duration: 2 });
            gsap.to(mesh3.position, { x: currentPosition3.x, y: currentPosition3.y, z: currentPosition3.z, duration: 2 });
            gsap.to(mesh4.position, { x: currentPosition4.x, y: currentPosition4.y, z: currentPosition4.z, duration: 2 });
            gsap.to(mesh5.position, { x: currentPosition5.x, y: currentPosition5.y, z: currentPosition5.z, duration: 2 });
            gsap.to(mesh6.position, { x: currentPosition6.x, y: currentPosition6.y, z: currentPosition6.z, duration: 2 });

        }else if(currentPosition1.equals(position12)) {
            currentPosition1 = position1
            currentPosition2 = position2
            currentPosition3 = position3
            currentPosition4 = position4
            currentPosition5 = position5
            currentPosition6 = position6
            console.log("1");
            gsap.to(mesh1.position, { x: currentPosition1.x, y: currentPosition1.y, z: currentPosition1.z, duration: 2 });
            gsap.to(mesh2.position, { x: currentPosition2.x, y: currentPosition2.y, z: currentPosition2.z, duration: 2 });
            gsap.to(mesh3.position, { x: currentPosition3.x, y: currentPosition3.y, z: currentPosition3.z, duration: 2 });
            gsap.to(mesh4.position, { x: currentPosition4.x, y: currentPosition4.y, z: currentPosition4.z, duration: 2 });
            gsap.to(mesh5.position, { x: currentPosition5.x, y: currentPosition5.y, z: currentPosition5.z, duration: 2 });
            gsap.to(mesh6.position, { x: currentPosition6.x, y: currentPosition6.y, z: currentPosition6.z, duration: 2 });
        }
    }

    window.addEventListener("click", (event) => {
        togglePosition();
    });

    window.addEventListener("resize", () => {
        renderer.setSize(window.innerWidth, window.innerHeight);
        camera.aspect = window.innerWidth / window.innerHeight;
        camera.updateProjectionMatrix();
    });

    const loop = () => {
        renderer.render(scene, camera);
        window.requestAnimationFrame(loop);
    };
    loop();

</script>

</body>
</html>
